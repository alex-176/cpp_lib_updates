import{_ as o}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-N2EAuuNq.js";import{b as d,o as g,w as t,g as s,B as l,e,m as k,v as D,x as u,C as n}from"./modules/vue-CKbSmOlE.js";import{I as y}from"./slidev/two-cols-header-DwNDmOE0.js";import{u as F,f as m}from"./slidev/context-DE9OclEI.js";import"./modules/unplugin-icons-BW8i5lj_.js";import"./index-4lNTijIA.js";import"./modules/shiki-CP1vAORI.js";const w={__name:"cpp_lib_updates.md__slidev_4",setup(C){const{$clicksContext:h,$frontmatter:r}=F();return h.setup(),(b,i)=>{const a=o;return g(),d(y,D(u(n(m)(n(r),3))),{left:t(p=>[e(a,k({},{ranges:[]}),{default:t(()=>i[0]||(i[0]=[s("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[s("code",{class:"language-cpp"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// Version 1 - Your library API")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," S"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," a;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," foo"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"S"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," s"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")])])],-1)])),_:1},16)]),right:t(p=>[e(a,k({},{ranges:[]}),{default:t(()=>i[1]||(i[1]=[s("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[s("code",{class:"language-cpp"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// Version 2 - added a new member")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," S"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," a;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," b;"),s("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"  // New member added")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," foo"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"S"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," s"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")])])],-1)])),_:1},16),i[2]||(i[2]=s("br",null,null,-1)),i[3]||(i[3]=s("h4",null,[s("strong",null,"Result"),l(": Previously built binaries crash! ðŸ’¥")],-1)),i[4]||(i[4]=s("br",null,null,-1)),i[5]||(i[5]=s("h4",null,[s("strong",null,[s("span",{style:{color:"#ef4444"}},"ABI Broken = Recompile Everything!")])],-1)),i[6]||(i[6]=s("br",null,null,-1)),i[7]||(i[7]=s("br",null,null,-1))]),default:t(()=>[i[8]||(i[8]=s("h1",null,"The Problem - API compatible changes break ABI",-1)),i[9]||(i[9]=s("h4",null,[l("if we modify "),s("code",null,"S"),l(" structure by adding a new member, the libraryâ€™s own tests pass, but previously built binaries that call "),s("code",null,"foo"),l(" start to crash")],-1))]),_:1},16)}}};export{w as default};
