import{_ as d}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-N2EAuuNq.js";import{b as o,o as D,w as a,g as i,B as s,e as n,m as k,v as g,x as y,C as h}from"./modules/vue-CKbSmOlE.js";import{I as u}from"./slidev/two-cols-header-DwNDmOE0.js";import{u as F,f as C}from"./slidev/context-DE9OclEI.js";import"./modules/unplugin-icons-BW8i5lj_.js";import"./index-4lNTijIA.js";import"./modules/shiki-CP1vAORI.js";const w={__name:"cpp_lib_updates.md__slidev_5",setup(c){const{$clicksContext:e,$frontmatter:r}=F();return e.setup(),(m,l)=>{const t=d;return D(),o(u,g(y(h(C)(h(r),4))),{left:a(p=>[n(t,k({},{ranges:[]}),{default:a(()=>l[0]||(l[0]=[i("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// Version 1 - Your library API")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," S"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," a;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}; ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," foo"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"S"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),i("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," s"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")])])],-1)])),_:1},16)]),right:a(p=>[n(t,k({},{ranges:["*","1-5","7-12","*"]}),{default:a(()=>l[1]||(l[1]=[i("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// maintain Version 1 API ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," S"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," a;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}; ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," foo"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"S"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),i("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," s"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// Version 2 API - added a new member")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," S_v1"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," a;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  int"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," b;"),i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"  // New member added")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}; ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," foo"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"S_v1"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),i("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," s"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")])])],-1)])),_:1},16),l[2]||(l[2]=i("br",null,null,-1)),l[3]||(l[3]=i("br",null,null,-1)),l[4]||(l[4]=i("br",null,null,-1)),l[5]||(l[5]=i("br",null,null,-1))]),default:a(()=>[l[6]||(l[6]=i("h1",null,"Classical solution - new names",-1)),l[7]||(l[7]=i("h4",null,"API becomes cluttered with old structs or requires changes of all the clients twice",-1)),l[8]||(l[8]=i("ol",null,[i("li",null,[s("library change: add "),i("code",null,"S_v1")]),i("li",null,[s("clients change: rename "),i("code",null,"S"),s(" -> "),i("code",null,"S_v1")])],-1)),l[9]||(l[9]=i("h5",null,[s("if you want to clean up the library and remove S_v1 - all the clients switch to "),i("code",null,"S_v1"),s(", then in the library make "),i("code",null,"S"),s(" equal to "),i("code",null,"S_v1"),s(" then all the clients switch to "),i("code",null,"S"),s(" again and finally the library can delete "),i("code",null,"S_v1")],-1))]),_:1},16)}}};export{w as default};
